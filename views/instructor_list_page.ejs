<!DOCTYPE html>
<html>
<head>
  <title>
   This the page where the producers will be able select the producers to email to


  </title>
  <link rel="/public/style.css" type="text/css" href="">
  <!-- <script src="/js/jsmain.js" type="text/javascript" charset="utf-8" async defer></script> -->
<script src="https://ajax.googleapis.com/ajax/libs/jquery/2.2.2/jquery.min.js"></script>

<!-- this is a script for the nodemailer to run -->

<script>

$(document).ready(function(){

  console.log("document ready function enabled");
//adding the document ready function
        //var from,to,subject,text;
//make the to subject text var?
        $("#send_email").click(function(){
          console.log("send_email button pressed");
//on send_email button click do this function
        var to=$("#to").val();
// save the variable to from the #to box
console.log("to:"+to);
       var  subject=$("#subject").val();
//save the subject var from the #subject box
console.log("subject: "+subject);
       var  text=$("#content").val();
// set the var text
console.log("body text: "+text);
        $("#message").text("Sending E-mail...Please wait");
//set the message text to sending email?

        $.get("/sendemail",{to:to,subject:subject,text:text},function(data){
// get route to /send - sending to,subject,text, callback function data
        if(data=="sent")
        {
            $("#message").empty().html("Email is been sent at "+to+" . Please check inbox !");
        }
});
    });




//this is the test button to see if the route can be reached
     $( "#test_emailer_button" ).click(function() {
        console.log("test button pressed");
          $.get("/send",function(data){
              // get route to /send - sending to,subject,text, callback function data
          if(data=="sent")
            {
            $("#test_emailer_message").empty().html("Route has been ran for test email");
            }
          });

        });
});
</script>

</head>


<body>
 This the page where the producers will be able select the producers to email to
<br>
<br>
        <% for(var i=0; i < instructors.length; i++) { %>
            <div class="col-sm-6 col-md-3 set-height">
                <li class="Instructor"><%= instructors[i].name %> - <a href="/send/<%= instructors[i].id %>"><%= instructors[i].email %></a> - <button id="instructorbutton">Send Email <%= instructors[i].email %></button>
                </li>
                  <% }; %>

                  <br>
                  <button id="test_emailer_button">This is a singular test button going to the send route of the invite email</button><br><span id="test_emailer_message"></span></li>
                  <br>

Node.JS Email application part
<div>
<h1>Mailer In Node.JS</h1>
<input id="to" type="text" placeholder="Enter E-mail ID where you want to send" />
<input id="subject" type="text" placeholder="Write Subject" />
<textarea id="content" cols="40" rows="5" placeholder="Write what you want to send"></textarea>
<button id="send_email">Send Email</button>
<span id="message"></span>
</div>






</body>


</html>
